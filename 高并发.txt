AQS模型
1.独占锁、共享锁
AQS有几把锁？
分别有哪些性质？
哪些方法获得独占锁？
哪些方法获得共享锁？
2.State锁寄存器
独占锁共享锁存哪？
State能够存多少把锁？
独占锁怎么存？
共享锁怎么存？
独占锁共享锁两把锁怎么存？
怎么规划State存储，哪块区域存独占锁？
哪块区域存共享锁？
Statet写对读不可见可能造成哪些方面问题？
怎么才能够保证获得锁为原子操作？
子类怎么访问state？
3.Block队列
获得不到锁线程上哪等着？
怎么区分Block队列哪些线程获得独占锁？哪些线程获得共享锁？
Block队列采用什么结构？
Block队列为什么不支持序列化反序列化？
head节点无状态代表哪些锁状态？
Block队列怎么插入node节点？node节点为什么优先通过单轮CAS进行插入？
为什么Signal happens before Park？
Block队列怎么删除node节点？node节点为什么闭环？
Block队列怎么弹出old head节点？old head节点next为什么赋空指针？
Block队列存在哪些漏洞？
4.Wait队列
哪些锁能够添加条件？
线程碰到某一条件上哪等着？
Wait队列采用什么结构？
Wait队列为什么线程安全?
Wait队列怎么插入waiter节点？
Signal or SignalAll有什么区别？
怎么解决Signal happens before Interrupt？
什么是fully删除？
5.AQS接口
AQS提供哪些接口？这些接口定义哪些规范？
怎么保证候选线程只被唤醒一次？


可重入锁
1.可重入锁采用哪把锁？
2.State锁寄存器怎么存？
3.怎么获得锁？怎么重入锁？怎么释放锁？
4.非公平锁公平锁有哪些优缺点？
5.通过询问获得锁怎么做的？
6.哪些方法获得不可中断锁？哪些方法获得可中断锁？
7.可重入锁采用哪些思想？
8.可重入锁、关键字synchronized对比有哪些异同点？


限流器
1.限流器采用哪把锁？共享锁抽象成什么？State抽象成什么？State怎么存储许可证？
2.怎么获得一个许可证？为什么不能多次获得同一个许可证？怎么返回一个许可证？
3.非公平许可证公平许可证有哪些优缺点？
4.通过询问获得一个许可证怎么做？
5.哪些方法获得可中断许可证？哪些方法获得不可中断许可证？
6.为什么Block队列之前增设Check区？


倒数
1.倒数采用哪把锁？State抽象成什么？
2.怎么倒数一次？怎么询问？
3.倒数怎么模拟一次栅栏关闸开闸？


栅栏
1.栅栏怎么做的？栅栏怎么保证拦截操作线程安全？条件是什么？钩子函数是什么？
2.栅栏怎么拦截一个线程？
3.通过哪些手段可以破坏栅栏？


可重入读写锁
1.读锁写锁分别对应AQS哪把锁？
2.State锁寄存器怎么分开存储读锁写锁？
3.读写锁具有哪些性质？
4.怎么获得写锁？写锁怎么重入？怎么释放写锁？
5.怎么获得读锁？读锁怎么重入？怎么释放读锁？
6.为什么使用earliest和latest读锁重入寄存器？
7.哪些方法获得可中断写锁？哪些方法获得不可中断写锁？
8.哪些方法获得可中断读锁？哪些方法获得不可中断读锁？
9.通过询问获得写锁怎么做？
10.通过询问获得读锁怎么做？
11.怎么防止读锁重入寄存器发生内存泄漏？
12.非公平写锁公平写锁有哪些优缺点？
13.非公平读锁公平读锁有哪些优缺点？
14.为什么对非公平读锁弱化？
15.可重入读写锁为什么只支持写锁降级读锁不支持读锁升级写锁？


